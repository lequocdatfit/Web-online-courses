{{#section 'css'}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">
<link rel="stylesheet" href="/public/static/css/category.css">
{{/section}}


<div class="category-container container pt-5">
    {{#if empty}}
    <div class="empty-category">
        <h2>This category has no course!</h2>
        <a href="/" class="btn btn-danger">Keep shopping</a>
    </div>
    {{else}}
    <div class="row">
        {{#each courses}}
        <div class="col-lg-3 col-md-6 col-sm-12">
            <div class="card">
                <div class="card-image">
                    <img class="card-img-top" src='{{this.thumbnail}}' alt="Card image">
                </div>
                <div class="card-body">
                    <div class="info">
                        <div class="card__title">
                            <p>{{name}}</p>
                        </div>
                        <div class="card__teacher">
                            <p>{{teacher.fullname}}</p>
                        </div>
                        <div class="card__category">
                            <p>{{category.name}}</p>
                        </div>

                        <div class="rating mb-2">
                            <div class="rateYo" data-rateyo-rating="{{avgRating}}" data-rateyo-star-width="20px">
                            </div>

                        </div>
                        <div class="card__allprice"><span class="card__discount">$ {{salePrice}}</span> &nbsp;
                            <del class="card__price">$ {{price}}</del>
                        </div>
                    </div>
                    <div class="text-right">
                        <a href="#" class="btn btn-primary">Detail</a>
                        <a href="#" class="btn btn-secondary"><i class="fa fa-shopping-cart" aria-hidden="true"></i></a>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    <nav>
        <ul class="pagination">
            <li class="page-item {{#if pagingOption.pre}}{{else}}disabled{{/if}}"><a class="page-link"
                    href="{{path}}?{{query}}&page={{#if pagingOption.pre}}{{pagingOption.pre}}{{/if}}">Previous</a></li>
            {{#each pagingOption.pageArr}}
            <li class="page-item"><a class="page-link" href="{{path}}?{{../query}}&page={{this}}">{{this}}</a></li>
            {{/each}}
            <li class="page-item {{#if pagingOption.next}}{{else}}disabled{{/if}}"><a class="page-link"
                    href="{{path}}?{{query}}&page={{#if pagingOption.next}}{{pagingOption.next}}{{/if}}">Next</a></li>
        </ul>
    </nav>
    {{/if}}


</div>


{{#section 'js'}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
<script>
    $(function () {

        $(".rateYo").rateYo({
            halfStar: true,
            readOnly: true
        });
    });
</script>
{{/section}}